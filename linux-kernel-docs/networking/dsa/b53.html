
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Broadcom RoboSwitch Ethernet switch driver &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Broadcom Starfighter 2 Ethernet switch driver" href="bcm_sf2.html" />
    <link rel="prev" title="Architecture" href="dsa.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.3.0-rc7</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">A guide to the Kernel Development Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches: the essential guide to getting your code into the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">Driver implementer’s API guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../subsystem-apis.html">Kernel subsystem documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../driver-api/index.html">Driver implementer’s API guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../locking/index.html">locking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../accounting/index.html">Accounting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../block/index.html">Block</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cpu-freq/index.html">CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fpga/index.html">fpga</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Networking</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../af_xdp.html">AF_XDP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bareudp.html">Bare UDP Tunnelling Module Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../batman-adv.html">batman-adv</a></li>
<li class="toctree-l3"><a class="reference internal" href="../can.html">SocketCAN - Controller Area Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../can_ucan_protocol.html">The UCAN Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../device_drivers/index.html">Hardware Device Drivers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Distributed Switch Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devlink/index.html">Linux Devlink Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../caif/index.html">CAIF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ethtool-netlink.html">Netlink interface for ethtool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ieee802154.html">IEEE 802.15.4 Developer’s Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../j1939.html">J1939 Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kapi.html">Linux Networking and Network Devices APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../msg_zerocopy.html">MSG_ZEROCOPY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../failover.html">FAILOVER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../net_dim.html">Net DIM - Generic Network Dynamic Interrupt Moderation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../net_failover.html">NET_FAILOVER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../page_pool.html">Page Pool API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../phy.html">PHY Abstraction Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sfp-phylink.html">phylink</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alias.html">IP-Aliasing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge.html">Ethernet Bridging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../snmp_counter.html">SNMP counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../checksum-offloads.html">Checksum Offloads</a></li>
<li class="toctree-l3"><a class="reference internal" href="../segmentation-offloads.html">Segmentation Offloads</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scaling.html">Scaling in the Linux Networking Stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tls.html">Kernel TLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tls-offload.html">Kernel TLS offload</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nfc.html">Linux NFC subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../6lowpan.html">Netdev private dataroom for 6lowpan interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../6pack.html">6pack Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arcnet-hardware.html">ARCnet Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arcnet.html">ARCnet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../atm.html">ATM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ax25.html">AX.25</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bonding.html">Linux Ethernet Bonding Driver HOWTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cdc_mbim.html">cdc_mbim - Driver for CDC MBIM Mobile Broadband modems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dccp.html">DCCP protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dctcp.html">DCTCP (DataCenter TCP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dns_resolver.html">DNS Resolver Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../driver.html">Softnet Driver Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eql.html">EQL Driver: Serial IP Load Balancing HOWTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fib_trie.html">LC-trie implementation notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../filter.html">Linux Socket Filtering aka Berkeley Packet Filter (BPF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generic-hdlc.html">Generic HDLC layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generic_netlink.html">Generic Netlink</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gen_stats.html">Generic networking statistics for netlink users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gtp.html">The Linux kernel GTP tunneling module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ila.html">Identifier Locator Addressing (ILA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ioam6-sysctl.html">IOAM6 Sysfs variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ipddp.html">AppleTalk-IP Decapsulation and AppleTalk-IP Encapsulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ip_dynaddr.html">IP dynamic address hack-port v0.03</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ipsec.html">IPsec</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ip-sysctl.html">IP Sysctl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ipv6.html">IPv6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ipvlan.html">IPVLAN Driver HOWTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ipvs-sysctl.html">IPvs-sysctl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kcm.html">Kernel Connection Multiplexor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../l2tp.html">L2TP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lapb-module.html">The Linux LAPB Module Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mac80211-injection.html">How to use packet injection with mac80211</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mctp.html">Management Component Transport Protocol (MCTP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mpls-sysctl.html">MPLS Sysfs variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mptcp-sysctl.html">MPTCP Sysfs variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multiqueue.html">HOWTO for multiqueue network device support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../netconsole.html">Netconsole</a></li>
<li class="toctree-l3"><a class="reference internal" href="../netdev-features.html">Netdev features mess and how to get out from it alive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../netdevices.html">Network Devices, the Kernel, and You!</a></li>
<li class="toctree-l3"><a class="reference internal" href="../netfilter-sysctl.html">Netfilter Sysfs variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../netif-msg.html">NETIF Msg Level</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nexthop-group-resilient.html">Resilient Next-hop Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nf_conntrack-sysctl.html">Netfilter Conntrack Sysfs variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nf_flowtable.html">Netfilter’s flowtable infrastructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openvswitch.html">Open vSwitch datapath developer documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operstates.html">Operational States</a></li>
<li class="toctree-l3"><a class="reference internal" href="../packet_mmap.html">Packet MMAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../phonet.html">Linux Phonet protocol family</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pktgen.html">HOWTO for the linux packet generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plip.html">PLIP: The Parallel Line Internet Protocol Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ppp_generic.html">PPP Generic Driver and Channel Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proc_net_tcp.html">The proc/net/tcp and proc/net/tcp6 variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../radiotap-headers.html">How to use radiotap headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rds.html">RDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regulatory.html">Linux wireless regulatory documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../representors.html">Network Function Representors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rxrpc.html">RxRPC Network Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rxrpc.html#socket-options">SOCKET OPTIONS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rxrpc.html#security">SECURITY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rxrpc.html#example-client-usage">EXAMPLE CLIENT USAGE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sctp.html">Linux Kernel SCTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../secid.html">LSM/SeLinux secid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../seg6-sysctl.html">Seg6 Sysfs variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../skbuff.html">struct sk_buff</a></li>
<li class="toctree-l3"><a class="reference internal" href="../smc-sysctl.html">SMC Sysctl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../statistics.html">Interface statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../strparser.html">Stream Parser (strparser)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../switchdev.html">Ethernet switch device driver model (switchdev)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sysfs-tagging.html">Sysfs tagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tc-actions-env-rules.html">TC Actions - Environmental Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tc-queue-filters.html">TC queue based filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tcp-thin.html">Thin-streams and TCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../team.html">Team</a></li>
<li class="toctree-l3"><a class="reference internal" href="../timestamping.html">Timestamping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tipc.html">Linux Kernel TIPC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tproxy.html">Transparent proxy support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tuntap.html">Universal TUN/TAP device driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../udplite.html">The UDP-Lite protocol (RFC 3828)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vrf.html">Virtual Routing and Forwarding (VRF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vxlan.html">Virtual eXtensible Local Area Networking documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../x25-iface.html">Packet Layer to Device Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../x25-iface.html#device-driver-to-packet-layer">Device Driver to Packet Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../x25-iface.html#requirements-for-the-device-driver">Requirements for the device driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../x25.html">Linux X.25 Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../xfrm_device.html">XFRM device - offloading the IPsec computations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../xfrm_proc.html">XFRM proc - /proc/net/xfrm_* files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../xfrm_sync.html">XFRM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../xfrm_sysctl.html">XFRM Syscall</a></li>
<li class="toctree-l3"><a class="reference internal" href="../xdp-rx-metadata.html">XDP RX Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../power/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../timers/index.html">timers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../watchdog/index.html">Watchdog Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../virt/index.html">Virtualization Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../input/index.html">Input Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hwmon/index.html">Hardware Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gpu/index.html">GPU Driver Developer’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../accel/index.html">Compute Accelerators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sound/index.html">Sound Subsystem Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crypto/index.html">Crypto API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mm/index.html">Memory Management Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usb/index.html">USB support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PCI/index.html">PCI Bus Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scsi/index.html">SCSI Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scheduler/index.html">Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../peci/index.html">PECI Subsystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking in the kernel</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Linux kernel licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Kernel Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">The kernel build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">User-space tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  sbar.scrollTop = currents[currents.length - 1].offsetTop;
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/networking/dsa/b53.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="broadcom-roboswitch-ethernet-switch-driver">
<h1>Broadcom RoboSwitch Ethernet switch driver<a class="headerlink" href="#broadcom-roboswitch-ethernet-switch-driver" title="Permalink to this headline">¶</a></h1>
<p>The Broadcom RoboSwitch Ethernet switch family is used in quite a range of
xDSL router, cable modems and other multimedia devices.</p>
<p>The actual implementation supports the devices BCM5325E, BCM5365, BCM539x,
BCM53115 and BCM53125 as well as BCM63XX.</p>
<section id="implementation-details">
<h2>Implementation details<a class="headerlink" href="#implementation-details" title="Permalink to this headline">¶</a></h2>
<p>The driver is located in <code class="docutils literal notranslate"><span class="pre">drivers/net/dsa/b53/</span></code> and is implemented as a
DSA driver; see <code class="docutils literal notranslate"><span class="pre">Documentation/networking/dsa/dsa.rst</span></code> for details on the
subsystem and what it provides.</p>
<p>The switch is, if possible, configured to enable a Broadcom specific 4-bytes
switch tag which gets inserted by the switch for every packet forwarded to the
CPU interface, conversely, the CPU network interface should insert a similar
tag for packets entering the CPU port. The tag format is described in
<code class="docutils literal notranslate"><span class="pre">net/dsa/tag_brcm.c</span></code>.</p>
<p>The configuration of the device depends on whether or not tagging is
supported.</p>
<p>The interface names and example network configuration are used according the
configuration described in the <a class="reference internal" href="configuration.html#dsa-config-showcases"><span class="std std-ref">Configuration showcases</span></a>.</p>
<section id="configuration-with-tagging-support">
<h3>Configuration with tagging support<a class="headerlink" href="#configuration-with-tagging-support" title="Permalink to this headline">¶</a></h3>
<p>The tagging based configuration is desired. It is not specific to the b53
DSA driver and will work like all DSA drivers which supports tagging.</p>
<p>See <a class="reference internal" href="configuration.html#dsa-tagged-configuration"><span class="std std-ref">Configuration with tagging support</span></a>.</p>
</section>
<section id="configuration-without-tagging-support">
<h3>Configuration without tagging support<a class="headerlink" href="#configuration-without-tagging-support" title="Permalink to this headline">¶</a></h3>
<p>Older models (5325, 5365) support a different tag format that is not supported
yet. 539x and 531x5 require managed mode and some special handling, which is
also not yet supported. The tagging support is disabled in these cases and the
switch need a different configuration.</p>
<p>The configuration slightly differ from the <a class="reference internal" href="configuration.html#dsa-vlan-configuration"><span class="std std-ref">Configuration without tagging support</span></a>.</p>
<p>The b53 tags the CPU port in all VLANs, since otherwise any PVID untagged
VLAN programming would basically change the CPU port’s default PVID and make
it untagged, undesirable.</p>
<p>In difference to the configuration described in <a class="reference internal" href="configuration.html#dsa-vlan-configuration"><span class="std std-ref">Configuration without tagging support</span></a>
the default VLAN 1 has to be removed from the slave interface configuration in
single port and gateway configuration, while there is no need to add an extra
VLAN configuration in the bridge showcase.</p>
<section id="single-port">
<h4>single port<a class="headerlink" href="#single-port" title="Permalink to this headline">¶</a></h4>
<p>The configuration can only be set up via VLAN tagging and bridge setup.
By default packages are tagged with vid 1:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># tag traffic on CPU port</span>
ip link add link eth0 name eth0.1 <span class="nb">type</span> vlan id <span class="m">1</span>
ip link add link eth0 name eth0.2 <span class="nb">type</span> vlan id <span class="m">2</span>
ip link add link eth0 name eth0.3 <span class="nb">type</span> vlan id <span class="m">3</span>

<span class="c1"># The master interface needs to be brought up before the slave ports.</span>
ip link <span class="nb">set</span> eth0 up
ip link <span class="nb">set</span> eth0.1 up
ip link <span class="nb">set</span> eth0.2 up
ip link <span class="nb">set</span> eth0.3 up

<span class="c1"># bring up the slave interfaces</span>
ip link <span class="nb">set</span> wan up
ip link <span class="nb">set</span> lan1 up
ip link <span class="nb">set</span> lan2 up

<span class="c1"># create bridge</span>
ip link add name br0 <span class="nb">type</span> bridge

<span class="c1"># activate VLAN filtering</span>
ip link <span class="nb">set</span> dev br0 <span class="nb">type</span> bridge vlan_filtering <span class="m">1</span>

<span class="c1"># add ports to bridges</span>
ip link <span class="nb">set</span> dev wan master br0
ip link <span class="nb">set</span> dev lan1 master br0
ip link <span class="nb">set</span> dev lan2 master br0

<span class="c1"># tag traffic on ports</span>
bridge vlan add dev lan1 vid <span class="m">2</span> pvid untagged
bridge vlan del dev lan1 vid <span class="m">1</span>
bridge vlan add dev lan2 vid <span class="m">3</span> pvid untagged
bridge vlan del dev lan2 vid <span class="m">1</span>

<span class="c1"># configure the VLANs</span>
ip addr add <span class="m">192</span>.0.2.1/30 dev eth0.1
ip addr add <span class="m">192</span>.0.2.5/30 dev eth0.2
ip addr add <span class="m">192</span>.0.2.9/30 dev eth0.3

<span class="c1"># bring up the bridge devices</span>
ip link <span class="nb">set</span> br0 up
</pre></div>
</div>
</section>
<section id="bridge">
<h4>bridge<a class="headerlink" href="#bridge" title="Permalink to this headline">¶</a></h4>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># tag traffic on CPU port</span>
ip link add link eth0 name eth0.1 <span class="nb">type</span> vlan id <span class="m">1</span>

<span class="c1"># The master interface needs to be brought up before the slave ports.</span>
ip link <span class="nb">set</span> eth0 up
ip link <span class="nb">set</span> eth0.1 up

<span class="c1"># bring up the slave interfaces</span>
ip link <span class="nb">set</span> wan up
ip link <span class="nb">set</span> lan1 up
ip link <span class="nb">set</span> lan2 up

<span class="c1"># create bridge</span>
ip link add name br0 <span class="nb">type</span> bridge

<span class="c1"># activate VLAN filtering</span>
ip link <span class="nb">set</span> dev br0 <span class="nb">type</span> bridge vlan_filtering <span class="m">1</span>

<span class="c1"># add ports to bridge</span>
ip link <span class="nb">set</span> dev wan master br0
ip link <span class="nb">set</span> dev lan1 master br0
ip link <span class="nb">set</span> dev lan2 master br0
ip link <span class="nb">set</span> eth0.1 master br0

<span class="c1"># configure the bridge</span>
ip addr add <span class="m">192</span>.0.2.129/25 dev br0

<span class="c1"># bring up the bridge</span>
ip link <span class="nb">set</span> dev br0 up
</pre></div>
</div>
</section>
<section id="gateway">
<h4>gateway<a class="headerlink" href="#gateway" title="Permalink to this headline">¶</a></h4>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># tag traffic on CPU port</span>
ip link add link eth0 name eth0.1 <span class="nb">type</span> vlan id <span class="m">1</span>
ip link add link eth0 name eth0.2 <span class="nb">type</span> vlan id <span class="m">2</span>

<span class="c1"># The master interface needs to be brought up before the slave ports.</span>
ip link <span class="nb">set</span> eth0 up
ip link <span class="nb">set</span> eth0.1 up
ip link <span class="nb">set</span> eth0.2 up

<span class="c1"># bring up the slave interfaces</span>
ip link <span class="nb">set</span> wan up
ip link <span class="nb">set</span> lan1 up
ip link <span class="nb">set</span> lan2 up

<span class="c1"># create bridge</span>
ip link add name br0 <span class="nb">type</span> bridge

<span class="c1"># activate VLAN filtering</span>
ip link <span class="nb">set</span> dev br0 <span class="nb">type</span> bridge vlan_filtering <span class="m">1</span>

<span class="c1"># add ports to bridges</span>
ip link <span class="nb">set</span> dev wan master br0
ip link <span class="nb">set</span> eth0.1 master br0
ip link <span class="nb">set</span> dev lan1 master br0
ip link <span class="nb">set</span> dev lan2 master br0

<span class="c1"># tag traffic on ports</span>
bridge vlan add dev wan vid <span class="m">2</span> pvid untagged
bridge vlan del dev wan vid <span class="m">1</span>

<span class="c1"># configure the VLANs</span>
ip addr add <span class="m">192</span>.0.2.1/30 dev eth0.2
ip addr add <span class="m">192</span>.0.2.129/25 dev br0

<span class="c1"># bring up the bridge devices</span>
ip link <span class="nb">set</span> br0 up
</pre></div>
</div>
</section>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/networking/dsa/b53.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>